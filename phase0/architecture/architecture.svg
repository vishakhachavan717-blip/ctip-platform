<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="787px" preserveAspectRatio="none" style="width:556px;height:787px;background:#FFFFFF;" version="1.1" viewBox="0 0 556 787" width="556px" zoomAndPan="magnify"><title>CTIP Architecture (Phase0)</title><defs/><g><g class="title" data-source-line="1"><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="180.4961" x="180.8428" y="24.5332">CTIP Architecture (Phase0)</text></g><!--entity FE--><g class="entity" data-entity="FE" data-source-line="2" data-uid="ent0002" id="entity_FE"><rect fill="#F1F1F1" height="37.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="153.834" x="33" y="269.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133.834" x="43" y="294.1426">Frontend (Vite/React)</text></g><!--entity G--><g class="entity" data-entity="G" data-source-line="3" data-uid="ent0003" id="entity_G"><rect fill="#F1F1F1" height="37.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128.9307" x="192.5" y="385.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.9307" x="202.5" y="410.1426">FastAPI Gateway</text></g><!--entity ING--><g class="entity" data-entity="ING" data-source-line="4" data-uid="ent0004" id="entity_ING"><rect fill="#F1F1F1" height="37.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="108.71" x="140.5" y="501.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88.71" x="150.5" y="526.1426">Ingest Service</text></g><!--entity ML--><g class="entity" data-entity="ML" data-source-line="5" data-uid="ent0005" id="entity_ML"><rect fill="#F1F1F1" height="37.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100.1309" x="35" y="743.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.1309" x="45" y="768.1426">Scoring (ML)</text></g><!--entity RULES--><g class="entity" data-entity="RULES" data-source-line="6" data-uid="ent0006" id="entity_RULES"><rect fill="#F1F1F1" height="37.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="104.793" x="204.5" y="45.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.793" x="214.5" y="70.1426">Rules Worker</text></g><!--entity PG--><g class="entity" data-entity="PG" data-source-line="7" data-uid="ent0007" id="entity_PG"><path d="M219.5,171.6094 C219.5,161.6094 257.124,161.6094 257.124,161.6094 C257.124,161.6094 294.748,161.6094 294.748,171.6094 L294.748,198.2188 C294.748,208.2188 257.124,208.2188 257.124,208.2188 C257.124,208.2188 219.5,208.2188 219.5,198.2188 L219.5,171.6094" fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M219.5,171.6094 C219.5,181.6094 257.124,181.6094 257.124,181.6094 C257.124,181.6094 294.748,181.6094 294.748,171.6094" fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55.248" x="229.5" y="200.1426">Postgres</text></g><!--entity ES--><g class="entity" data-entity="ES" data-source-line="8" data-uid="ent0008" id="entity_ES"><path d="M217.3108,626.0113 C220.161,620.5121 225.8249,620.3275 229.435,625.1157 C233.3407,617.7011 239.9013,617.4015 244.0731,624.8536 C248.1993,617.2006 254.7751,619.3678 258.4699,625.3104 C261.0675,618.8056 265.2041,616.5979 270.776,622.3157 C275.1108,616.814 280.2783,617.4016 283.3782,623.6411 C287.0866,615.351 292.3627,615.341 298.0855,621.6056 C301.4733,616.4804 306.4208,616.3718 309.8027,621.6123 C313.8894,616.0697 319.2721,614.4469 323.3179,621.6556 C328.0406,614.9865 333.9704,615.0164 337.4301,622.8819 C341.1559,615.5689 347.0803,616.5424 350.9243,622.7641 C356.1015,617.5698 361.7964,617.078 364.8942,624.982 C369.1745,617.9763 374.7733,618.8819 378.5716,625.4671 C383.0502,619.7257 389.1518,618.7447 392.4928,626.6293 C396.4321,621.1598 400.4621,622.1506 403.6086,627.4479 C412.8875,629.3281 414.933,635.86 409.2902,643.1421 C414.6375,651.1401 411.7359,655.2971 403.5752,658.1518 C401.1222,664.9685 396.3342,664.4929 392.0039,660.0876 C386.3249,667.2468 381.4548,665.6251 376.8161,658.946 C373.8557,664.8929 369.8482,665.4278 365.1943,660.8087 C360.7491,667.789 356.0842,668.7438 351.0622,661.3769 C346.7667,667.8442 341.2631,667.6322 336.8659,661.4914 C333.8453,667.964 327.7655,668.4163 324.0326,662.2125 C321.0078,668.2095 317.0288,670.5997 311.6717,664.6194 C307.7875,671.7896 301.0748,670.9963 298.1901,663.6887 C292.7088,669.9571 287.3823,668.7172 283.8414,661.6075 C279.9121,666.6127 274.5718,666.0137 271.6865,660.4112 C267.2428,666.8957 262.2148,665.911 258.4873,659.6684 C253.406,668.2026 248.0765,667.8475 242.8457,659.8095 C238.6925,665.0173 233.0121,665.1453 230.6066,658.0683 C227.0815,664.2305 221.3463,665.464 217.4455,658.4435 C206.7438,657.6836 204.2127,650.7491 208.0811,641.7942 C204.1685,633.0181 207.9613,627.0319 217.3108,626.0113" fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173.5303" x="223" y="647.1426">Elasticsearch / OpenSearch</text></g><!--entity REDIS--><g class="entity" data-entity="REDIS" data-source-line="9" data-uid="ent0009" id="entity_REDIS"><rect fill="#F1F1F1" height="37.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="156.1855" x="7" y="622.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136.1855" x="17" y="647.1426">Redis (queues/cache)</text></g><!--entity S3--><g class="entity" data-entity="S3" data-source-line="10" data-uid="ent0010" id="entity_S3"><rect fill="#F1F1F1" height="37.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="78.3516" x="380" y="166.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58.3516" x="390" y="190.6426">MinIO/S3</text></g><!--link FE to G--><g class="link" data-entity-1="FE" data-entity-2="G" data-source-line="12" data-uid="lnk11" id="link_FE_G"><path d="M121.53,307.8994 C131.26,322.2394 146.25,341.9694 163,355.6094 C177.64,367.5194 190.2954,375.0344 206.6754,382.8544" fill="none" id="FE-to-G" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="212.09,385.4394,205.6914,377.9522,207.5778,383.2852,202.2448,385.1716,212.09,385.4394" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66.4473" x="164" y="352.1045">REST / WS</text></g><!--link G to ING--><g class="link" data-entity-1="G" data-entity-2="ING" data-source-line="13" data-uid="lnk12" id="link_G_ING"><path d="M247.18,423.6694 C235.63,444.8894 219.4574,474.6389 207.8474,495.9789" fill="none" id="G-to-ING" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="204.98,501.2494,212.7948,495.2552,207.3695,496.8573,205.7674,491.432,204.98,501.2494" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38.3018" x="231" y="468.1045">/ingest</text></g><!--link ING to ES--><g class="link" data-entity-1="ING" data-entity-2="ES" data-source-line="14" data-uid="lnk13" id="link_ING_ES"><path d="M204.4,539.6494 C212.23,553.6694 224.29,573.0894 238,587.6094 C248.44,598.6694 256.5478,605.5558 268.6178,614.1258" fill="none" id="ING-to-ES" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="273.51,617.5994,268.4874,609.1275,269.4331,614.7047,263.8559,615.6505,273.51,617.5994" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54.9072" x="239" y="584.1045">write logs</text></g><!--link ING to REDIS--><g class="link" data-entity-1="ING" data-entity-2="REDIS" data-source-line="15" data-uid="lnk14" id="link_ING_REDIS"><path d="M140.47,531.1894 C118.45,538.0294 95.17,549.6994 82,569.6094 C71.72,585.1494 73.0626,601.2623 77.1626,616.6223" fill="none" id="ING-to-REDIS" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="78.71,622.4194,80.2536,612.6922,77.4205,617.5885,72.5242,614.7554,78.71,622.4194" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114.9116" x="83" y="584.1045">enqueue for scoring</text></g><!--link REDIS to ML--><g class="link" data-entity-1="REDIS" data-entity-2="ML" data-source-line="16" data-uid="lnk15" id="link_REDIS_ML"><path d="M54.68,660.7194 C42.79,669.5894 30.46,681.4394 24,695.6094 C15.46,714.3494 26.9545,727.9709 44.9345,740.0109" fill="none" id="REDIS-to-ML" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="49.92,743.3494,44.6674,735.0181,45.7654,740.5673,40.2162,741.6654,49.92,743.3494" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.8862" x="25" y="710.1045">feature batch</text></g><!--link ML to REDIS--><g class="link" data-entity-1="ML" data-entity-2="REDIS" data-source-line="17" data-uid="lnk16" id="link_ML_REDIS"><path d="M94.56,743.4594 C98.65,734.6994 102.95,723.8794 105,713.6094 C108.64,695.3994 104.2865,680.4722 97.6165,666.2422" fill="none" id="ML-to-REDIS" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="95.07,660.8094,95.2679,670.6562,97.1921,665.3367,102.5116,667.2609,95.07,660.8094" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38.2891" x="108" y="710.1045">scores</text></g><!--link RULES to PG--><g class="link" data-entity-1="RULES" data-entity-2="PG" data-source-line="18" data-uid="lnk17" id="link_RULES_PG"><path d="M257,83.8694 C257,104.7694 257,133.0294 257,155.5794" fill="none" id="RULES-to-PG" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="257,161.5794,261,152.5794,257,156.5794,253,152.5794,257,161.5794" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62.8481" x="258" y="128.1045">write alerts</text></g><!--link ES to G--><g class="link" data-entity-1="ES" data-entity-2="G" data-source-line="19" data-uid="lnk18" id="link_ES_G"><path d="M307.2538,611.4811 C303.5638,575.7411 295.28,511.1794 278,453.6094 C274.97,443.4994 272.9164,438.1322 268.7964,429.3422" fill="none" id="ES-G" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="307.87,617.4494,310.9246,608.0862,307.3565,612.4758,302.9669,608.9078,307.87,617.4494" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="266.25,423.9094,266.4478,433.7562,268.372,428.4367,273.6916,430.361,266.25,423.9094" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85.2681" x="299" y="526.1045">search queries</text></g><!--link PG to G--><g class="link" data-entity-1="PG" data-entity-2="G" data-source-line="20" data-uid="lnk19" id="link_PG_G"><path d="M257,214.9794 C257,258.3794 257,339.9194 257,379.4194" fill="none" id="PG-G" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="257,208.9794,253,217.9794,257,213.9794,261,217.9794,257,208.9794" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="257,385.4194,261,376.4194,257,380.4194,253,376.4194,257,385.4194" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90.3208" x="258" y="294.1045">incidents, users</text></g><!--link S3 to G--><g class="link" data-entity-1="S3" data-entity-2="G" data-source-line="21" data-uid="lnk20" id="link_S3_G"><path d="M409.6431,210.0487 C399.5831,234.8287 381.85,274.1494 357,307.6094 C334.33,338.1394 306.1689,363.7198 284.3989,381.7698" fill="none" id="S3-G" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="411.9,204.4894,404.8084,211.3238,410.0192,209.1222,412.2208,214.333,411.9,204.4894" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="279.78,385.5994,289.2614,382.9342,283.6291,382.408,284.1552,376.7757,279.78,385.5994" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166.1816" x="382" y="294.1045">attachments / model artifacts</text></g><!--SRC=[LPB1JiCm44Jl_efLJwr45QJU44Ag88qY9JIg2vnTPvjQf0vuDrJyFHiNIdhqp7DcTnnst28yRlCAbi4U7AFbFY1CguCXl9sf88BnZK2JLUWyewzX-YfSia5ZUJO1Gx1AhpX3lAnoo0pZoNn78Xi3kM-G63I6BsSn-ldp5Q5j5vnlO5eMvuIo6DkRlaM2jowyOuZsvgL8jQeDcvsC3PEg8su2KZIhJDcswskOfAsCvYoXaLqXWVK7UXqF4PHFZ4EmTWJJpnvxfCGQUy3pB9lqARyYI-VpTQ8NqTKBfLOfpESFaC6Tm7ehIMzQPL6JHKLDNAn03QT1JRM8fo2rGjirTD5Zb5ZeunYmxmBGkHjrzWQgB0JPeualjpDi3qgayVtX3fAADKMZoYw1fiN0fCIud_zD_TkGX0OdzuJ-zvothaRFT0CzOI2b5oFNC4jJny6NjOzTZIsOm6ulFmlz0000]--></g></svg>